@using FDHiring.Web.Helpers

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/style.css" />
    @await RenderSectionAsync("Styles", required: false)
    <script type="module" src="~/js/site.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <title>@ViewData["Title"] — FDHiring</title>
</head>
<body data-user-id="@Context.Session.GetUserId()">

    @await Html.PartialAsync("_IconSprite")

    <!-- ===== HEADER ===== -->
    <header class="header" data-header>
        <div class="header-row1" data-header-row1>
            <a href="/" class="logo" data-logo>
                <div class="logo-icon">
                    <svg class="icon icon-sm"><use href="#icon-dashboard"></use></svg>
                </div>
                <span>FDHiring</span>
            </a>
            <div class="search-wrapper" data-global-search>
                <svg class="icon icon-sm search-icon"><use href="#icon-search"></use></svg>
                <input class="search-input" type="text" placeholder="Search..." data-global-search-input />
            </div>
            <div class="user-badge-header"
                 data-user-badge
                 title="@Context.Session.GetUserFullName()">
                @Context.Session.GetUserInitials()
            </div>
        </div>
        <nav class="header-row2" data-header-nav>
            <a href="/Candidate/SetCandidate" class="nav-btn" data-nav="recommended">
                <svg class="icon icon-sm"><use href="#icon-home"></use></svg>
                No Candidate
            </a>
            <a href="/Candidate/SetCandidate?id=1" class="nav-btn" data-nav="trending">
                <svg class="icon icon-sm"><use href="#icon-trending"></use></svg>
                With Candidate
            </a>
            <a href="#" class="nav-btn" data-nav="upcoming">
                <svg class="icon icon-sm"><use href="#icon-clock"></use></svg>
                Upcoming
            </a>
            <a href="#" class="nav-btn" data-nav="new">
                <svg class="icon icon-sm"><use href="#icon-new"></use></svg>
                New
            </a>
            <a href="#" class="nav-btn" data-nav="popular">
                <svg class="icon icon-sm"><use href="#icon-popular"></use></svg>
                Popular
            </a>
        </nav>
    </header>

    <!-- ===== SIDEBAR ===== -->
    @await Html.PartialAsync("_Sidebar")

    <!-- ===== MAIN ===== -->
    <main class="main" data-main>
        <div class="main-inner" data-main-inner>
            @RenderBody()
        </div>
    </main>

    <!-- ===== SELECT USER MODAL ===== -->
    <div class="modal-overlay" data-modal="select-user">
        <div class="modal modal-sm">
            <div class="modal-header">
                <div class="modal-title">Select User</div>
            </div>
            <div class="modal-body">
                <div class="user-select-list" data-user-list></div>
            </div>
        </div>
    </div>

    <!-- ===== CONFIRM DELETE MODAL ===== -->
    <div class="modal-overlay" data-modal="confirm-delete">
        <div class="modal modal-sm">
            <div class="modal-header">
                <div class="modal-title">Confirm Delete</div>
                <button class="btn-icon" data-modal-close>
                    <svg class="icon icon-sm"><use href="#icon-close"></use></svg>
                </button>
            </div>
            <div class="modal-body">
                <p data-confirm-message>Are you sure? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-sm" data-modal-close>Cancel</button>
                <button class="btn btn-danger btn-sm" data-confirm-yes>
                    <svg class="icon icon-sm"><use href="#icon-delete"></use></svg>
                    Delete
                </button>
            </div>
        </div>
    </div>

    <!-- ===== TOAST ===== -->
    <div class="toast-container" data-toast-container></div>

    @if (TempData["ToastMessage"] != null)
    {
        <script type="module">
            import { showToast } from '/js/toast.js';
            showToast('@TempData["ToastMessage"]', '@(TempData["ToastVariant"] ?? "success")');
        </script>
    }

</body>
</html>