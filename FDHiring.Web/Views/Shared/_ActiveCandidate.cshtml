@using FDHiring.Core.Models
@{
    var candidate = ViewData["Candidate"] as Candidate;
}

@if (candidate != null)
{
    <div class="candidate-card mb-lg mt-sm" data-active-candidate data-candidate-id="@candidate.Id">
        <div class="candidate-card-photo">
            @if (!string.IsNullOrEmpty(candidate.PhotoPath))
            {
                <img src="@candidate.PhotoPath" alt="@candidate.FirstName @candidate.LastName" />
            }
            else
            {
                <div style="width:100%;height:100%;display:grid;place-items:center;background:var(--clr-surface-3)">
                    <svg class="icon icon-xl" style="color:var(--text-tertiary)"><use href="#icon-user"></use></svg>
                </div>
            }
        </div>
        <div class="candidate-card-body">
            <div class="candidate-name">@candidate.FirstName @candidate.LastName</div>
            <div class="candidate-position">@candidate.PositionName</div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-email"></use></svg>
                <span data-field="email">@candidate.Email</span>
            </div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-phone"></use></svg>
                <span data-field="phone">@(candidate.Phone ?? "")</span>
            </div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-linkedin"></use></svg>
                <span data-field="linkedin">@(candidate.LinkedIn ?? "")</span>
            </div>
        </div>
        <div class="candidate-card-aside">
            @if (candidate.Active)
            {
                <span class="badge badge-success badge-dot">Active</span>
            }
            else
            {
                <span class="badge badge-empty">&nbsp;</span>
            }
            @if (candidate.WouldHire)
            {
                <span class="badge badge-info badge-dot">Would Hire</span>
            }
            else
            {
                <span class="badge badge-empty">&nbsp;</span>
            }
            @if (candidate.IsCurrent)
            {
                <span class="badge badge-accent badge-dot">Current</span>
            }
            else
            {
                <span class="badge badge-empty">&nbsp;</span>
            }
            <a href="/Candidate/Edit/@candidate.Id" class="btn btn-sm">
                <svg class="icon icon-sm"><use href="#icon-edit"></use></svg>
                Edit
            </a>
        </div>
    </div>
}
else
{
    <div class="candidate-card candidate-card-empty mb-lg mt-sm" data-active-candidate>
        <div class="candidate-card-empty-content">
            <svg class="icon icon-xl"><use href="#icon-candidates"></use></svg>
            <span>Please select a candidate</span>
        </div>
    </div>
}

<!-- ===== TEMPLATES (hidden, cloned by JS) ===== -->

<template data-tpl="active-card">
    <div class="candidate-card mb-lg mt-sm" data-active-candidate>
        <div class="candidate-card-photo" data-field="photo"></div>
        <div class="candidate-card-body">
            <div class="candidate-name" data-field="name"></div>
            <div class="candidate-position" data-field="position"></div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-email"></use></svg>
                <span data-field="email"></span>
            </div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-phone"></use></svg>
                <span data-field="phone"></span>
            </div>
            <div class="candidate-detail">
                <svg class="icon icon-xs"><use href="#icon-linkedin"></use></svg>
                <span data-field="linkedin"></span>
            </div>
        </div>
        <div class="candidate-card-aside">
            <span data-field="badge-active"></span>
            <span data-field="badge-wouldhire"></span>
            <span data-field="badge-current"></span>
            <a href="#" class="btn btn-sm" data-field="edit-link">
                <svg class="icon icon-sm"><use href="#icon-edit"></use></svg>
                Edit
            </a>
        </div>
    </div>
</template>

<template data-tpl="empty-card">
    <div class="candidate-card candidate-card-empty mb-lg mt-sm" data-active-candidate>
        <div class="candidate-card-empty-content">
            <svg class="icon icon-xl"><use href="#icon-candidates"></use></svg>
            <span>Please select a candidate</span>
        </div>
    </div>
</template>